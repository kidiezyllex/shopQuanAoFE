import{a as o,bJ as Tn,aJ as On,j as c,B as te,k as ye,aa as jn,ao as Dn,q as Rn,ap as kn,A as An,m as Wn,a2 as $e,ar as Ue,bg as Fn,bh as Vn,a6 as It}from"./index-Dpx_4rWJ.js";import{C as Zn,c as $n}from"./card-fT6uSY2F.js";import{u as Un,c as Hn}from"./product-SA3ZOUlJ.js";import{u as Xn,a as zn}from"./attributes-Bjak6hx3.js";import{u as Bn}from"./promotion-BheM1RSV.js";import{a as Kn,c as Yn}from"./promotions-BLXdZVKB.js";import{B as Gn,a as qn,b as He,c as Mt,d as Lt,e as Qn}from"./breadcrumb-CJedQ5QG.js";import{T as Jn,a as eo,b as Xe,c as ae,d as to,e as re}from"./table-BeX0puEz.js";import{S as ze,a as Be,b as Ke,c as Ye,d as de}from"./select-CS4vNzI5.js";import{D as no,h as oo,a as ro,b as io,c as so,e as ao,i as co}from"./dialog-BuHyDe_9.js";import"./createLucideIcon-BdgKQErZ.js";import"./index-BdQq_4o_.js";import"./index-qvEK80KO.js";import"./check-CyKb8IHM.js";const Bt="carousel",Kt="controller",lo="navigation",uo="no-scroll",ct="portal",fo="root",Yt="toolbar",ho="download",Tt="zoom",Ge="loading",qe="error",Qe="complete",mo="placeholder",po=e=>`active-slide-${e}`,go="fullsize",lt="flex_center",xo="no_scroll",Gt="no_scroll_padding",ut="slide",qt="slide_wrapper",vo="slide_wrapper_interactive",he="prev",me="next",Ot="swipe",ve="close",Qt="onPointerDown",Jt="onPointerMove",en="onPointerUp",tn="onPointerLeave",nn="onPointerCancel",dt="onKeyDown",wo="onKeyUp",ft="onWheel",bo="Escape",Eo="ArrowLeft",yo="ArrowRight",Co="button",ot="icon",on="contain",jt="cover",rn="Unknown action type",sn="yarl__";function ne(...e){return[...e].filter(Boolean).join(" ")}function R(e){return`${sn}${e}`}function B(e){return`--${sn}${e}`}function Ce(e,t){return`${e}${t?`_${t}`:""}`}function ht(e){return t=>Ce(e,t)}function Po(e,t){var n;return(n=e==null?void 0:e[t])!==null&&n!==void 0?n:t}function mt(...e){return()=>{e.forEach(t=>{t()})}}function ce(e,t,n){return()=>{const r=o.useContext(n);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function pt(){return typeof window<"u"}function gt(e,t=0){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}function pe(e){return e.type===void 0||e.type==="image"}function xt(e,t){return e.imageFit===jt||e.imageFit!==on&&t===jt}function Te(e){return typeof e=="string"?Number.parseInt(e,10):e}function Me(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Te(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function No(e,t){const n=Me(t),r=n.percent!==void 0?e.width/100*n.percent:n.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function _o(){return(pt()?window==null?void 0:window.devicePixelRatio:void 0)||1}function an(e,t){return t>0?(e%t+t)%t:0}function cn(e){return e.length>0}function ln(e,t){return e[an(t,e.length)]}function rt(e,t){return cn(e)?ln(e,t):void 0}function So(e){return pe(e)?e.src:void 0}function un(e,t,n){if(!n)return e;const{buttons:r,...i}=e,s=r.findIndex(l=>l===t),a=o.isValidElement(n)?o.cloneElement(n,{key:t},null):n;if(s>=0){const l=[...r];return l.splice(s,1,a),{buttons:l,...i}}return{buttons:[a,...r],...i}}function Io(e,t,n=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),n))}const Mo=Number(o.version.split(".")[0])>=19;function Lo(e){return{inert:Mo?e:e?"":void 0}}function To(e){e.scrollTop}const it={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[ve]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:on,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function le(e,t){return{name:e,component:t}}function H(e,t){return{module:e,children:t}}function dn(e,t,n){return e.module.name===t?n(e):e.children?[H(e.module,e.children.flatMap(r=>{var i;return(i=dn(r,t,n))!==null&&i!==void 0?i:[]}))]:[e]}function xe(e,t,n){return e.flatMap(r=>{var i;return(i=dn(r,t,n))!==null&&i!==void 0?i:[]})}function Oo(e,t=[],n=[]){let r=e;const i=p=>{const g=[...r];for(;g.length>0;){const v=g.pop();if((v==null?void 0:v.module.name)===p)return!0;v!=null&&v.children&&g.push(...v.children)}return!1},s=(p,g)=>{if(p===""){r=[H(g,r)];return}r=xe(r,p,v=>[H(g,[v])])},a=(p,g)=>{r=xe(r,p,v=>[H(v.module,[H(g,v.children)])])},l=(p,g,v)=>{r=xe(r,p,O=>{var P;return[H(O.module,[...v?[H(g)]:[],...(P=O.children)!==null&&P!==void 0?P:[],...v?[]:[H(g)]])]})},d=(p,g,v)=>{r=xe(r,p,O=>[...v?[H(g)]:[],O,...v?[]:[H(g)]])},f=p=>{a(Kt,p)},h=(p,g)=>{r=xe(r,p,v=>[H(g,v.children)])},m=p=>{r=xe(r,p,g=>g.children)},x=p=>{n.push(p)};return t.forEach(p=>{p({contains:i,addParent:s,append:a,addChild:l,addSibling:d,addModule:f,replace:h,remove:m,augment:x})}),{config:r,augmentation:p=>n.reduce((g,v)=>v(g),p)}}const fn=o.createContext(null),Oe=ce("useDocument","DocumentContext",fn);function jo({nodeRef:e,children:t}){const n=o.useMemo(()=>{const r=s=>{var a;return((a=s||e.current)===null||a===void 0?void 0:a.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:s=>{var a;return((a=r(s))===null||a===void 0?void 0:a.defaultView)||window}}},[e]);return o.createElement(fn.Provider,{value:n},t)}const hn=o.createContext(null),je=ce("useEvents","EventsContext",hn);function Do({children:e}){const[t]=o.useState({});o.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const n=o.useMemo(()=>{const r=(a,l)=>{var d;(d=t[a])===null||d===void 0||d.splice(0,t[a].length,...t[a].filter(f=>f!==l))};return{publish:(...[a,l])=>{var d;(d=t[a])===null||d===void 0||d.forEach(f=>f(l))},subscribe:(a,l)=>(t[a]||(t[a]=[]),t[a].push(l),()=>r(a,l)),unsubscribe:r}},[t]);return o.createElement(hn.Provider,{value:n},e)}const mn=o.createContext(null),K=ce("useLightboxProps","LightboxPropsContext",mn);function Ro({children:e,...t}){return o.createElement(mn.Provider,{value:t},e)}const pn=o.createContext(null),ie=ce("useLightboxState","LightboxStateContext",pn),gn=o.createContext(null),ko=ce("useLightboxDispatch","LightboxDispatchContext",gn);function Ao(e,t){switch(t.type){case"swipe":{const{slides:n}=e,r=(t==null?void 0:t.increment)||0,i=e.globalIndex+r,s=an(i,n.length),a=rt(n,s),l=r||t.duration!==void 0?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:n,currentIndex:s,globalIndex:i,currentSlide:a,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:rt(t.slides,t.index)}:e;default:throw new Error(rn)}}function Wo({slides:e,index:t,children:n}){const[r,i]=o.useReducer(Ao,{slides:e,currentIndex:t,globalIndex:t,currentSlide:rt(e,t)});o.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=o.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return o.createElement(gn.Provider,{value:i},o.createElement(pn.Provider,{value:s},n))}const xn=o.createContext(null),De=ce("useTimeouts","TimeoutsContext",xn);function Fo({children:e}){const[t]=o.useState([]);o.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const n=o.useMemo(()=>{const r=a=>{t.splice(0,t.length,...t.filter(l=>l!==a))};return{setTimeout:(a,l)=>{const d=window.setTimeout(()=>{r(d),a()},l);return t.push(d),d},clearTimeout:a=>{a!==void 0&&(r(a),window.clearTimeout(a))}}},[t]);return o.createElement(xn.Provider,{value:n},e)}const Re=o.forwardRef(function({label:t,className:n,icon:r,renderIcon:i,onClick:s,style:a,...l},d){const{styles:f,labels:h}=K(),m=Po(h,t);return o.createElement("button",{ref:d,type:"button",title:m,"aria-label":m,className:ne(R(Co),n),onClick:s,style:{...a,...f.button},...l},i?i():o.createElement(r,{className:R(ot),style:f.icon}))});function Vo(e,t){const n=r=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return n.displayName=e,n}function ue(e,t){return Vo(e,o.createElement("g",{fill:"currentColor"},o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const Zo=ue("Close",o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),$o=ue("Previous",o.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Uo=ue("Next",o.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Ho=ue("Loading",o.createElement(o.Fragment,null,Array.from({length:8}).map((e,t,n)=>o.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/n.length*(t+1),transform:`rotate(${360/n.length*t}, 12, 12)`})))),Xo=ue("Error",o.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),oe=pt()?o.useLayoutEffect:o.useEffect;function vt(){const[e,t]=o.useState(!1);return o.useEffect(()=>{var n,r;const i=(n=window.matchMedia)===null||n===void 0?void 0:n.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const s=a=>t(a.matches);return(r=i==null?void 0:i.addEventListener)===null||r===void 0||r.call(i,"change",s),()=>{var a;return(a=i==null?void 0:i.removeEventListener)===null||a===void 0?void 0:a.call(i,"change",s)}},[]),e}function zo(e){let t=0,n=0,r=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const a=s[1].split(",").map(Te);a.length===6?(t=a[4],n=a[5]):a.length===16&&(t=a[12],n=a[13],r=a[14])}return{x:t,y:n,z:r}}function Dt(e,t){const n=o.useRef(void 0),r=o.useRef(void 0),i=vt();return oe(()=>{var s,a,l;if(e.current&&n.current!==void 0&&!i){const{keyframes:d,duration:f,easing:h,onfinish:m}=t(n.current,e.current.getBoundingClientRect(),zo(e.current))||{};if(d&&f){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(l=(a=e.current).animate)===null||l===void 0?void 0:l.call(a,d,{duration:f,easing:h})}catch(x){console.error(x)}r.current&&(r.current.onfinish=()=>{r.current=void 0,m==null||m()})}}n.current=void 0}),{prepareAnimation:s=>{n.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function vn(){const e=o.useRef(null),t=o.useRef(void 0),[n,r]=o.useState();return{setContainerRef:o.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const a=()=>{if(s){const l=window.getComputedStyle(s),d=f=>parseFloat(f)||0;r({width:Math.round(s.clientWidth-d(l.paddingLeft)-d(l.paddingRight)),height:Math.round(s.clientHeight-d(l.paddingTop)-d(l.paddingBottom))})}else r(void 0)};a(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(a),t.current.observe(s))},[]),containerRef:e,containerRect:n}}function Ie(){const e=o.useRef(void 0),{setTimeout:t,clearTimeout:n}=De();return o.useCallback((r,i)=>{n(e.current),e.current=t(r,i>0?i:0)},[t,n])}function k(e){const t=o.useRef(e);return oe(()=>{t.current=e}),o.useCallback((...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Rt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function st(e,t){return o.useMemo(()=>e==null&&t==null?null:n=>{Rt(e,n),Rt(t,n)},[e,t])}function Bo(e,t=!1){const n=o.useRef(!1);oe(()=>{t&&n.current&&(n.current=!1,e())},[t,e]);const r=o.useCallback(()=>{n.current=!0},[]),i=o.useCallback(()=>{n.current=!1},[]);return{onFocus:r,onBlur:i}}function wt(){const[e,t]=o.useState(!1);return oe(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Ko(){const[e]=o.useState({}),t=o.useCallback((i,s)=>{var a;(a=e[i])===null||a===void 0||a.forEach(l=>{s.isPropagationStopped()||l(s)})},[e]),n=o.useMemo(()=>({onPointerDown:i=>t(Qt,i),onPointerMove:i=>t(Jt,i),onPointerUp:i=>t(en,i),onPointerLeave:i=>t(tn,i),onPointerCancel:i=>t(nn,i),onKeyDown:i=>t(dt,i),onKeyUp:i=>t(wo,i),onWheel:i=>t(ft,i)}),[t]),r=o.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const a=e[i];a&&a.splice(0,a.length,...a.filter(l=>l!==s))}),[e]);return{registerSensors:n,subscribeSensors:r}}function kt(e,t){const n=o.useRef(0),r=Ie(),i=k((...s)=>{n.current=Date.now(),e(s)});return o.useCallback((...s)=>{r(()=>{i(s)},t-(Date.now()-n.current))},[t,i,r])}const Je=ht("slide"),et=ht("slide_image");function Le({slide:e,offset:t,render:n,rect:r,imageFit:i,imageProps:s,onClick:a,onLoad:l,onError:d,style:f}){var h,m,x,p,g,v,O;const[P,T]=o.useState(Ge),{publish:j}=je(),{setTimeout:V}=De(),N=o.useRef(null);o.useEffect(()=>{t===0&&j(po(P))},[t,P,j]);const M=k(_=>{("decode"in _?_.decode():Promise.resolve()).catch(()=>{}).then(()=>{_.parentNode&&(T(Qe),V(()=>{l==null||l(_)},0))})}),S=o.useCallback(_=>{N.current=_,_!=null&&_.complete&&M(_)},[M]),y=o.useCallback(_=>{M(_.currentTarget)},[M]),L=k(()=>{T(qe),d==null||d()}),D=xt(e,i),W=(_,F)=>Number.isFinite(_)?_:F,Y=W(Math.max(...((m=(h=e.srcSet)===null||h===void 0?void 0:h.map(_=>_.width))!==null&&m!==void 0?m:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((x=N.current)===null||x===void 0?void 0:x.naturalWidth)||0),I=W(Math.max(...((g=(p=e.srcSet)===null||p===void 0?void 0:p.map(_=>_.height))!==null&&g!==void 0?g:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((v=N.current)===null||v===void 0?void 0:v.naturalHeight)||0),w=Y&&I?{maxWidth:`min(${Y}px, 100%)`,maxHeight:`min(${I}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},b=(O=e.srcSet)===null||O===void 0?void 0:O.sort((_,F)=>_.width-F.width).map(_=>`${_.src} ${_.width}w`).join(", "),u=()=>r&&!D&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,C=b&&r&&pt()?`${Math.round(Math.min(u(),r.width))}px`:void 0,{style:A,className:U,...$}=s||{};return o.createElement(o.Fragment,null,o.createElement("img",{ref:S,onLoad:y,onError:L,onClick:a,draggable:!1,className:ne(R(et()),D&&R(et("cover")),P!==Qe&&R(et("loading")),U),style:{...w,...f,...A},...$,alt:e.alt,sizes:C,srcSet:b,src:e.src}),P!==Qe&&o.createElement("div",{className:R(Je(mo))},P===Ge&&(n!=null&&n.iconLoading?n.iconLoading():o.createElement(Ho,{className:ne(R(ot),R(Je(Ge)))})),P===qe&&(n!=null&&n.iconError?n.iconError():o.createElement(Xo,{className:ne(R(ot),R(Je(qe)))}))))}const Yo=o.forwardRef(function({className:t,children:n,...r},i){const s=o.useRef(null);return o.createElement(jo,{nodeRef:s},o.createElement("div",{ref:st(i,s),className:ne(R("root"),t),...r},n))});var X;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(X||(X={}));function wn(e,t,n,r,i){o.useEffect(()=>i?()=>{}:mt(e(Qt,t),e(Jt,n),e(en,r),e(tn,r),e(nn,r)),[e,t,n,r,i])}var Q;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(Q||(Q={}));const tt=30;function Go({disableSwipeNavigation:e,closeOnBackdropClick:t},n,r,i,s,a,l,d,f,h,m,x,p,g,v,O){const P=o.useRef(0),T=o.useRef([]),j=o.useRef(void 0),V=o.useRef(0),N=o.useRef(Q.NONE),M=o.useCallback(I=>{j.current===I.pointerId&&(j.current=void 0,N.current=Q.NONE);const w=T.current;w.splice(0,w.length,...w.filter(b=>b.pointerId!==I.pointerId))},[]),S=o.useCallback(I=>{M(I),I.persist(),T.current.push(I)},[M]),y=o.useCallback(I=>T.current.find(({pointerId:w})=>I.pointerId===w),[]),L=k(I=>{S(I)}),D=(I,w)=>m&&I>w||h&&I<-w,W=k(I=>{const w=y(I);if(w)if(j.current===I.pointerId){const b=Date.now()-V.current,u=P.current;N.current===Q.SWIPE?Math.abs(u)>.3*i||Math.abs(u)>5&&b<s?d(u,b):f(u):N.current===Q.PULL&&(D(u,2*tt)?g(u,b):v(u)),P.current=0,N.current=Q.NONE}else{const{target:b}=I;t&&b instanceof HTMLElement&&b===w.target&&(b.classList.contains(R(ut))||b.classList.contains(R(qt)))&&O()}M(I)}),Y=k(I=>{const w=y(I);if(w){const b=j.current===I.pointerId;if(I.buttons===0){b&&P.current!==0?W(I):M(w);return}const u=I.clientX-w.clientX,C=I.clientY-w.clientY;if(j.current===void 0){const A=U=>{S(I),j.current=I.pointerId,V.current=Date.now(),N.current=U};Math.abs(u)>Math.abs(C)&&Math.abs(u)>tt&&r(u)?e||(A(Q.SWIPE),a()):Math.abs(C)>Math.abs(u)&&D(C,tt)&&(A(Q.PULL),x())}else b&&(N.current===Q.SWIPE?(P.current=u,l(u)):N.current===Q.PULL&&(P.current=C,p(C)))}});wn(n,L,Y,W)}function qo({preventDefaultWheelX:e,preventDefaultWheelY:t}){const n=o.useRef(null),r=k(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return o.useCallback(i=>{var s;i?i.addEventListener("wheel",r,{passive:!1}):(s=n.current)===null||s===void 0||s.removeEventListener("wheel",r),n.current=i},[r])}function Qo(e,t,n,r,i,s,a,l,d){const f=o.useRef(0),h=o.useRef(0),m=o.useRef(void 0),x=o.useRef(void 0),p=o.useRef(0),g=o.useRef(void 0),v=o.useRef(0),{setTimeout:O,clearTimeout:P}=De(),T=o.useCallback(()=>{m.current&&(P(m.current),m.current=void 0)},[P]),j=o.useCallback(()=>{x.current&&(P(x.current),x.current=void 0)},[P]),V=k(()=>{e!==X.SWIPE&&(f.current=0,v.current=0,T(),j())});o.useEffect(V,[e,V]);const N=k(S=>{x.current=void 0,f.current===S&&d(f.current)}),M=k(S=>{if(S.ctrlKey||Math.abs(S.deltaY)>Math.abs(S.deltaX))return;const y=L=>{p.current=L,P(g.current),g.current=L>0?O(()=>{p.current=0,g.current=void 0},300):void 0};if(e===X.NONE){if(Math.abs(S.deltaX)<=1.2*Math.abs(p.current)){y(S.deltaX);return}if(!n(-S.deltaX))return;if(h.current+=S.deltaX,T(),Math.abs(h.current)>30)h.current=0,y(0),v.current=Date.now(),s();else{const L=h.current;m.current=O(()=>{m.current=void 0,L===h.current&&(h.current=0)},i)}}else if(e===X.SWIPE){let L=f.current-S.deltaX;if(L=Math.min(Math.abs(L),r)*Math.sign(L),f.current=L,a(L),j(),Math.abs(L)>.2*r){y(S.deltaX),l(L,Date.now()-v.current);return}x.current=O(()=>N(L),2*i)}else y(S.deltaX)});o.useEffect(()=>t(ft,M),[t,M])}const At=ht("container"),bn=o.createContext(null),se=ce("useController","ControllerContext",bn);function Jo({children:e,...t}){var n;const{carousel:r,animation:i,controller:s,on:a,styles:l,render:d}=t,{closeOnPullUp:f,closeOnPullDown:h,preventDefaultWheelX:m,preventDefaultWheelY:x}=s,[p,g]=o.useState(),v=ie(),O=ko(),[P,T]=o.useState(X.NONE),j=o.useRef(0),V=o.useRef(0),N=o.useRef(1),{registerSensors:M,subscribeSensors:S}=Ko(),{subscribe:y,publish:L}=je(),D=Ie(),W=Ie(),Y=Ie(),{containerRef:I,setContainerRef:w,containerRect:b}=vn(),u=st(qo({preventDefaultWheelX:m,preventDefaultWheelY:x}),w),C=o.useRef(null),A=st(C,void 0),{getOwnerDocument:U}=Oe(),$=wt(),_=E=>($?-1:1)*(typeof E=="number"?E:1),F=k(()=>{var E;return(E=I.current)===null||E===void 0?void 0:E.focus()}),G=k(()=>t),Et=k(()=>v),Pe=o.useCallback(E=>L(he,E),[L]),Ne=o.useCallback(E=>L(me,E),[L]),ge=o.useCallback(()=>L(ve),[L]),Ae=E=>!(r.finite&&(_(E)>0&&v.currentIndex===0||_(E)<0&&v.currentIndex===v.slides.length-1)),yt=E=>{var Z;j.current=E,(Z=I.current)===null||Z===void 0||Z.style.setProperty(B("swipe_offset"),`${Math.round(E)}px`)},We=E=>{var Z,z;V.current=E,N.current=(()=>{const be=h&&E>0?E:f&&E<0?-E:0;return Math.min(Math.max(gt(1-be/60*(1-.5),2),.5),1)})(),(Z=I.current)===null||Z===void 0||Z.style.setProperty(B("pull_offset"),`${Math.round(E)}px`),(z=I.current)===null||z===void 0||z.style.setProperty(B("pull_opacity"),`${N.current}`)},{prepareAnimation:_n}=Dt(C,(E,Z,z)=>{if(C.current&&b)return{keyframes:[{transform:`translate(0, ${E.rect.y-Z.y+z.y}px)`,opacity:E.opacity},{transform:"translate(0, 0)",opacity:1}],duration:E.duration,easing:i.easing.fade}}),Ct=(E,Z)=>{if(f||h){We(E);let z=0;C.current&&(z=i.fade*(Z?2:1),_n({rect:C.current.getBoundingClientRect(),opacity:N.current,duration:z})),Y(()=>{We(0),T(X.NONE)},z),T(X.ANIMATION),Z||ge()}},{prepareAnimation:Sn,isAnimationPlaying:In}=Dt(C,(E,Z,z)=>{var J;if(C.current&&b&&(!((J=v.animation)===null||J===void 0)&&J.duration)){const q=Me(r.spacing),be=(q.percent?q.percent*b.width/100:q.pixel)||0;return{keyframes:[{transform:`translate(${_(v.globalIndex-E.index)*(b.width+be)+E.rect.x-Z.x+z.x}px, 0)`},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}}),we=k(E=>{var Z,z;const J=E.offset||0,q=J?i.swipe:(Z=i.navigation)!==null&&Z!==void 0?Z:i.swipe,be=!J&&!In()?i.easing.navigation:i.easing.swipe;let{direction:_e}=E;const Se=(z=E.count)!==null&&z!==void 0?z:1;let Fe=X.ANIMATION,ee=q*Se;if(!_e){const Ee=b==null?void 0:b.width,St=E.duration||0,Ze=Ee?q/Ee*Math.abs(J):q;Se!==0?(St<Ze?ee=ee/Ze*Math.max(St,Ze/5):Ee&&(ee=q/Ee*(Ee-Math.abs(J))),_e=_(J)>0?he:me):ee=q/2}let Ve=0;_e===he?Ae(_(1))?Ve=-Se:(Fe=X.NONE,ee=q):_e===me&&(Ae(_(-1))?Ve=Se:(Fe=X.NONE,ee=q)),ee=Math.round(ee),W(()=>{yt(0),T(X.NONE)},ee),C.current&&Sn({rect:C.current.getBoundingClientRect(),index:v.globalIndex}),T(Fe),L(Ot,{type:"swipe",increment:Ve,duration:ee,easing:be})});o.useEffect(()=>{var E,Z;!((E=v.animation)===null||E===void 0)&&E.increment&&(!((Z=v.animation)===null||Z===void 0)&&Z.duration)&&D(()=>O({type:"swipe",increment:0}),v.animation.duration)},[v.animation,O,D]);const Pt=[S,Ae,(b==null?void 0:b.width)||0,i.swipe,()=>T(X.SWIPE),E=>yt(E),(E,Z)=>we({offset:E,duration:Z,count:1}),E=>we({offset:E,count:0})],Mn=[()=>{h&&T(X.PULL)},E=>We(E),E=>Ct(E),E=>Ct(E,!0)];Go(s,...Pt,f,h,...Mn,ge),Qo(P,...Pt);const Nt=k(()=>{s.focus&&U().querySelector(`.${R(ct)} .${R(At())}`)&&F()});o.useEffect(Nt,[Nt]);const _t=k(()=>{var E;(E=a.view)===null||E===void 0||E.call(a,{index:v.currentIndex})});o.useEffect(_t,[v.globalIndex,_t]),o.useEffect(()=>mt(y(he,E=>we({direction:he,...E})),y(me,E=>we({direction:me,...E})),y(Ot,E=>O(E))),[y,we,O]);const Ln=o.useMemo(()=>({prev:Pe,next:Ne,close:ge,focus:F,slideRect:b?No(b,r.padding):{width:0,height:0},containerRect:b||{width:0,height:0},subscribeSensors:S,containerRef:I,setCarouselRef:A,toolbarWidth:p,setToolbarWidth:g}),[Pe,Ne,ge,F,S,b,I,A,p,g,r.padding]);return o.useImperativeHandle(s.ref,()=>({prev:Pe,next:Ne,close:ge,focus:F,getLightboxProps:G,getLightboxState:Et}),[Pe,Ne,ge,F,G,Et]),o.createElement("div",{ref:u,className:ne(R(At()),R(lt)),style:{...P===X.SWIPE?{[B("swipe_offset")]:`${Math.round(j.current)}px`}:null,...P===X.PULL?{[B("pull_offset")]:`${Math.round(V.current)}px`,[B("pull_opacity")]:`${N.current}`}:null,...s.touchAction!=="none"?{[B("controller_touch_action")]:s.touchAction}:null,...l.container},...s.aria?{role:"region","aria-live":"polite","aria-roledescription":"carousel"}:null,tabIndex:-1,...M},b&&o.createElement(bn.Provider,{value:Ln},e,(n=d.controls)===null||n===void 0?void 0:n.call(d)))}const er=le(Kt,Jo);function fe(e){return Ce(Bt,e)}function Wt(e){return Ce(ut,e)}function tr({slide:e,offset:t}){const n=o.useRef(null),{currentIndex:r}=ie(),{slideRect:i,focus:s}=se(),{render:a,carousel:{imageFit:l,imageProps:d},on:{click:f},styles:{slide:h}}=K(),{getOwnerDocument:m}=Oe(),x=t!==0;o.useEffect(()=>{var g;x&&(!((g=n.current)===null||g===void 0)&&g.contains(m().activeElement))&&s()},[x,s,m]);const p=()=>{var g,v,O,P;let T=(g=a.slide)===null||g===void 0?void 0:g.call(a,{slide:e,offset:t,rect:i});return!T&&pe(e)&&(T=o.createElement(Le,{slide:e,offset:t,render:a,rect:i,imageFit:l,imageProps:d,onClick:x?void 0:()=>f==null?void 0:f({index:r})})),T?o.createElement(o.Fragment,null,(v=a.slideHeader)===null||v===void 0?void 0:v.call(a,{slide:e}),((O=a.slideContainer)!==null&&O!==void 0?O:({children:j})=>j)({slide:e,children:T}),(P=a.slideFooter)===null||P===void 0?void 0:P.call(a,{slide:e})):null};return o.createElement("div",{ref:n,className:ne(R(Wt()),!x&&R(Wt("current")),R(lt)),...Lo(x),style:h,role:"region","aria-roledescription":"slide"},p())}function nr(){const e=K().styles.slide;return o.createElement("div",{className:R(ut),style:e})}function or({carousel:e}){const{slides:t,currentIndex:n,globalIndex:r}=ie(),{setCarouselRef:i}=se(),s=Me(e.spacing),a=Me(e.padding),l=Io(e,t,1),d=[];if(cn(t))for(let f=n-l;f<=n+l;f+=1){const h=ln(t,f),m=r-n+f,x=e.finite&&(f<0||f>t.length-1);d.push(x?{key:m}:{key:[`${m}`,So(h)].filter(Boolean).join("|"),offset:f-n,slide:h})}return o.createElement("div",{ref:i,className:ne(R(fe()),d.length>0&&R(fe("with_slides"))),style:{[`${B(fe("slides_count"))}`]:d.length,[`${B(fe("spacing_px"))}`]:s.pixel||0,[`${B(fe("spacing_percent"))}`]:s.percent||0,[`${B(fe("padding_px"))}`]:a.pixel||0,[`${B(fe("padding_percent"))}`]:a.percent||0}},d.map(({key:f,slide:h,offset:m})=>h?o.createElement(tr,{key:f,slide:h,offset:m}):o.createElement(nr,{key:f})))}const rr=le(Bt,or);function En(){const{carousel:e}=K(),{slides:t,currentIndex:n}=ie(),r=t.length===0||e.finite&&n===0,i=t.length===0||e.finite&&n===t.length-1;return{prevDisabled:r,nextDisabled:i}}function ir(e){var t;const n=wt(),{publish:r}=je(),{animation:i}=K(),{prevDisabled:s,nextDisabled:a}=En(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,d=kt(()=>r(he),l),f=kt(()=>r(me),l),h=k(m=>{switch(m.key){case bo:r(ve);break;case Eo:(n?a:s)||(n?f:d)();break;case yo:(n?s:a)||(n?d:f)();break}});o.useEffect(()=>e(dt,h),[e,h])}function Ft({label:e,icon:t,renderIcon:n,action:r,onClick:i,disabled:s,style:a}){return o.createElement(Re,{label:e,icon:t,renderIcon:n,className:R(`navigation_${r}`),disabled:s,onClick:i,style:a,...Bo(se().focus,s)})}function sr({render:{buttonPrev:e,buttonNext:t,iconPrev:n,iconNext:r},styles:i}){const{prev:s,next:a,subscribeSensors:l}=se(),{prevDisabled:d,nextDisabled:f}=En();return ir(l),o.createElement(o.Fragment,null,e?e():o.createElement(Ft,{label:"Previous",action:he,icon:$o,renderIcon:n,style:i.navigationPrev,disabled:d,onClick:s}),t?t():o.createElement(Ft,{label:"Next",action:me,icon:Uo,renderIcon:r,style:i.navigationNext,disabled:f,onClick:a}))}const ar=le(lo,sr),Vt=R(xo),cr=R(Gt);function lr(e){return"style"in e}function Zt(e,t,n){const r=window.getComputedStyle(e),i=n?"padding-left":"padding-right",s=n?r.paddingLeft:r.paddingRight,a=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Te(s)||0)+t}px`),()=>{a?e.style.setProperty(i,a):e.style.removeProperty(i)}}function ur({noScroll:{disabled:e},children:t}){const n=wt(),{getOwnerDocument:r,getOwnerWindow:i}=Oe();return o.useEffect(()=>{if(e)return()=>{};const s=[],a=i(),{body:l,documentElement:d}=r(),f=Math.round(a.innerWidth-d.clientWidth);if(f>0){s.push(Zt(l,f,n));const h=l.getElementsByTagName("*");for(let m=0;m<h.length;m+=1){const x=h[m];lr(x)&&a.getComputedStyle(x).getPropertyValue("position")==="fixed"&&!x.classList.contains(cr)&&s.push(Zt(x,f,n))}}return l.classList.add(Vt),()=>{l.classList.remove(Vt),s.forEach(h=>h())}},[n,e,r,i]),o.createElement(o.Fragment,null,t)}const dr=le(uo,ur);function $t(e){return Ce(ct,e)}function Ut(e,t,n){const r=e.getAttribute(t);return e.setAttribute(t,n),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function fr({children:e,animation:t,styles:n,className:r,on:i,portal:s,close:a}){const[l,d]=o.useState(!1),[f,h]=o.useState(!1),m=o.useRef([]),x=o.useRef(null),{setTimeout:p}=De(),{subscribe:g}=je(),O=vt()?0:t.fade;o.useEffect(()=>(d(!0),()=>{d(!1),h(!1)}),[]);const P=k(()=>{m.current.forEach(N=>N()),m.current=[]}),T=k(()=>{var N;h(!1),P(),(N=i.exiting)===null||N===void 0||N.call(i),p(()=>{var M;(M=i.exited)===null||M===void 0||M.call(i),a()},O)});o.useEffect(()=>g(ve,T),[g,T]);const j=k(N=>{var M,S,y;To(N),h(!0),(M=i.entering)===null||M===void 0||M.call(i);const L=(y=(S=N.parentNode)===null||S===void 0?void 0:S.children)!==null&&y!==void 0?y:[];for(let D=0;D<L.length;D+=1){const W=L[D];["TEMPLATE","SCRIPT","STYLE"].indexOf(W.tagName)===-1&&W!==N&&(m.current.push(Ut(W,"inert","")),m.current.push(Ut(W,"aria-hidden","true")))}m.current.push(()=>{var D,W;(W=(D=x.current)===null||D===void 0?void 0:D.focus)===null||W===void 0||W.call(D)}),p(()=>{var D;(D=i.entered)===null||D===void 0||D.call(i)},O)}),V=o.useCallback(N=>{N?j(N):P()},[j,P]);return l?Tn.createPortal(o.createElement(Yo,{ref:V,className:ne(r,R($t()),R(Gt),f&&R($t("open"))),"aria-modal":!0,role:"dialog","aria-live":"polite","aria-roledescription":"lightbox",style:{...t.fade!==it.animation.fade?{[B("fade_animation_duration")]:`${O}ms`}:null,...t.easing.fade!==it.animation.easing.fade?{[B("fade_animation_timing_function")]:t.easing.fade}:null,...n.root},onFocus:N=>{x.current||(x.current=N.relatedTarget)}},e),s.root||document.body):null}const hr=le(ct,fr);function mr({children:e}){return o.createElement(o.Fragment,null,e)}const pr=le(fo,mr);function gr(e){return Ce(Yt,e)}function xr({toolbar:{buttons:e},render:{buttonClose:t,iconClose:n},styles:r}){const{close:i,setToolbarWidth:s}=se(),{setContainerRef:a,containerRect:l}=vn();oe(()=>{s(l==null?void 0:l.width)},[s,l==null?void 0:l.width]);const d=()=>t?t():o.createElement(Re,{key:ve,label:"Close",icon:Zo,renderIcon:n,onClick:i});return o.createElement("div",{ref:a,style:r.toolbar,className:R(gr())},e==null?void 0:e.map(f=>f===ve?d():f))}const vr=le(Yt,xr);function yn(e,t){var n;return o.createElement(e.module.component,{key:e.module.name,...t},(n=e.children)===null||n===void 0?void 0:n.map(r=>yn(r,t)))}function wr(e,t={}){const{easing:n,...r}=e,{easing:i,...s}=t;return{easing:{...n,...i},...r,...s}}function br({carousel:e,animation:t,render:n,toolbar:r,controller:i,noScroll:s,on:a,plugins:l,slides:d,index:f,...h}){const{animation:m,carousel:x,render:p,toolbar:g,controller:v,noScroll:O,on:P,slides:T,index:j,plugins:V,...N}=it,{config:M,augmentation:S}=Oo([H(hr,[H(dr,[H(er,[H(rr),H(vr),H(ar)])])])],l||V),y=S({animation:wr(m,t),carousel:{...x,...e},render:{...p,...n},toolbar:{...g,...r},controller:{...v,...i},noScroll:{...O,...s},on:{...P,...a},...N,...h});return y.open?o.createElement(Ro,{...y},o.createElement(Wo,{slides:d||T,index:Te(f||j)},o.createElement(Fo,null,o.createElement(Do,null,yn(H(pr,M),y))))):null}const Er={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},Cn=e=>({...Er,...e});function yr(e,t,n,r){const i=o.useRef(void 0),s=o.useRef(void 0),{zoom:a}=K().animation,l=vt(),d=k(()=>{var f,h,m;if((f=i.current)===null||f===void 0||f.cancel(),i.current=void 0,s.current&&(r!=null&&r.current)){try{i.current=(m=(h=r.current).animate)===null||m===void 0?void 0:m.call(h,[{transform:s.current},{transform:`scale(${e}) translateX(${t}px) translateY(${n}px)`}],{duration:l?0:a??500,easing:i.current?"ease-out":"ease-in-out"})}catch(x){console.error(x)}s.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return oe(d,[e,t,n,d]),o.useCallback(()=>{s.current=r!=null&&r.current?window.getComputedStyle(r.current).transform:void 0},[r])}function Cr(e,t){const{on:n}=K(),r=k(()=>{var i;t||(i=n.zoom)===null||i===void 0||i.call(n,{zoom:e})});o.useEffect(r,[e,r])}function ke(){const{zoom:e}=K();return Cn(e)}function Pr(e,t){var n,r;let i={width:0,height:0},s={width:0,height:0};const{currentSlide:a}=ie(),{imageFit:l}=K().carousel,{maxZoomPixelRatio:d}=ke();if(e&&a){const h={...a,...t};if(pe(h)){const m=xt(h,l),x=Math.max(...(((n=h.srcSet)===null||n===void 0?void 0:n.map(g=>g.width))||[]).concat(h.width?[h.width]:[])),p=Math.max(...(((r=h.srcSet)===null||r===void 0?void 0:r.map(g=>g.height))||[]).concat(h.height?[h.height]:[]));x>0&&p>0&&e.width>0&&e.height>0&&(s=m?{width:Math.round(Math.min(x,e.width/e.height*p)),height:Math.round(Math.min(p,e.height/e.width*x))}:{width:x,height:p},s={width:s.width*d,height:s.height*d},i=m?{width:Math.min(e.width,s.width,x),height:Math.min(e.height,s.height,p)}:{width:Math.round(Math.min(e.width,e.height/p*x,x)),height:Math.round(Math.min(e.height,e.width/x*p,p))})}}const f=i.width?Math.max(gt(s.width/i.width,5),1):1;return{imageRect:i,maxZoom:f}}function Ht(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function Xt(e,t,n=100,r=2){return e*Math.min(1+Math.abs(t/n),r)**Math.sign(t)}function Nr(e,t,n,r,i,s){const a=o.useRef([]),l=o.useRef(0),d=o.useRef(void 0),{globalIndex:f}=ie(),{getOwnerWindow:h}=Oe(),{containerRef:m,subscribeSensors:x}=se(),{keyboardMoveDistance:p,zoomInMultiplier:g,wheelZoomDistanceFactor:v,scrollToZoom:O,doubleTapDelay:P,doubleClickDelay:T,doubleClickMaxStops:j,pinchZoomDistanceFactor:V}=ke(),N=o.useCallback(w=>{if(m.current){const{pageX:b,pageY:u}=w,{scrollX:C,scrollY:A}=h(),{left:U,top:$,width:_,height:F}=m.current.getBoundingClientRect();return[b-U-C-_/2,u-$-A-F/2]}return[]},[m,h]),M=k(w=>{const{key:b,metaKey:u,ctrlKey:C}=w,A=u||C,U=()=>{w.preventDefault(),w.stopPropagation()};if(e>1){const _=(F,G)=>{U(),i(F,G)};b==="ArrowDown"?_(0,p):b==="ArrowUp"?_(0,-p):b==="ArrowLeft"?_(-p,0):b==="ArrowRight"&&_(p,0)}const $=_=>{U(),r(_)};b==="+"||A&&b==="="?$(e*g):b==="-"||A&&b==="_"?$(e/g):A&&b==="0"&&$(1)}),S=k(w=>{if((w.ctrlKey||O)&&Math.abs(w.deltaY)>Math.abs(w.deltaX)){w.stopPropagation(),r(Xt(e,-w.deltaY,v),!0,...N(w));return}e>1&&(w.stopPropagation(),O||i(w.deltaX,w.deltaY))}),y=o.useCallback(w=>{const b=a.current;b.splice(0,b.length,...b.filter(u=>u.pointerId!==w.pointerId))},[]),L=o.useCallback(w=>{y(w),w.persist(),a.current.push(w)},[y]),D=k(w=>{var b;const u=a.current;if(w.pointerType==="mouse"&&w.buttons>1||!(!((b=s==null?void 0:s.current)===null||b===void 0)&&b.contains(w.target)))return;e>1&&w.stopPropagation();const{timeStamp:C}=w;u.length===0&&C-l.current<(w.pointerType==="touch"?P:T)?(l.current=0,r(e!==t?e*Math.max(t**(1/j),g):1,!1,...N(w))):l.current=C,L(w),u.length===2&&(d.current=Ht(u[0],u[1]))}),W=k(w=>{const b=a.current,u=b.find(C=>C.pointerId===w.pointerId);if(b.length===2&&d.current){w.stopPropagation(),L(w);const C=Ht(b[0],b[1]),A=C-d.current;Math.abs(A)>0&&(r(Xt(e,A,V),!0,...b.map(U=>N(U)).reduce((U,$)=>$.map((_,F)=>U[F]+_/2))),d.current=C);return}e>1&&(w.stopPropagation(),u&&(b.length===1&&i((u.clientX-w.clientX)/e,(u.clientY-w.clientY)/e),L(w)))}),Y=o.useCallback(w=>{const b=a.current;b.length===2&&b.find(u=>u.pointerId===w.pointerId)&&(d.current=void 0),y(w)},[y]),I=o.useCallback(()=>{const w=a.current;w.splice(0,w.length),l.current=0,d.current=void 0},[]);wn(x,D,W,Y,n),o.useEffect(I,[f,I]),o.useEffect(()=>n?()=>{}:mt(I,x(dt,M),x(ft,S)),[n,x,I,M,S])}function _r(e,t,n){const[r,i]=o.useState(1),[s,a]=o.useState(0),[l,d]=o.useState(0),f=yr(r,s,l,n),{currentSlide:h,globalIndex:m}=ie(),{containerRect:x,slideRect:p}=se(),{zoomInMultiplier:g}=ke(),v=h&&pe(h)?h.src:void 0,O=!v||!(n!=null&&n.current);oe(()=>{i(1),a(0),d(0)},[m,v]);const P=o.useCallback((M,S,y)=>{const L=y||r,D=s-(M||0),W=l-(S||0),Y=(e.width*L-p.width)/2/L,I=(e.height*L-p.height)/2/L;a(Math.min(Math.abs(D),Math.max(Y,0))*Math.sign(D)),d(Math.min(Math.abs(W),Math.max(I,0))*Math.sign(W))},[r,s,l,p,e.width,e.height]),T=o.useCallback((M,S,y,L)=>{const D=gt(Math.min(Math.max(M+.001<t?M:t,1),t),5);D!==r&&(S||f(),P(y?y*(1/r-1/D):0,L?L*(1/r-1/D):0,D),i(D))},[r,t,P,f]),j=k(()=>{r>1&&(r>t&&T(t,!0),P())});oe(j,[x.width,x.height,j]);const V=o.useCallback(()=>T(r*g),[r,g,T]),N=o.useCallback(()=>T(r/g),[r,g,T]);return{zoom:r,offsetX:s,offsetY:l,disabled:O,changeOffsets:P,changeZoom:T,zoomIn:V,zoomOut:N}}const Pn=o.createContext(null),bt=ce("useZoom","ZoomControllerContext",Pn);function Sr({children:e}){const[t,n]=o.useState(),{slideRect:r}=se(),{imageRect:i,maxZoom:s}=Pr(r,t==null?void 0:t.imageDimensions),{zoom:a,offsetX:l,offsetY:d,disabled:f,changeZoom:h,changeOffsets:m,zoomIn:x,zoomOut:p}=_r(i,s,t==null?void 0:t.zoomWrapperRef);Cr(a,f),Nr(a,s,f,h,m,t==null?void 0:t.zoomWrapperRef);const g=o.useMemo(()=>({zoom:a,maxZoom:s,offsetX:l,offsetY:d,disabled:f,zoomIn:x,zoomOut:p,changeZoom:h}),[a,s,l,d,f,x,p,h]);o.useImperativeHandle(ke().ref,()=>g,[g]);const v=o.useMemo(()=>({...g,setZoomWrapper:n}),[g,n]);return o.createElement(Pn.Provider,{value:v},e)}const Ir=ue("ZoomIn",o.createElement(o.Fragment,null,o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Mr=ue("ZoomOut",o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),zt=o.forwardRef(function({zoomIn:t,onLoseFocus:n},r){const i=o.useRef(!1),s=o.useRef(!1),{zoom:a,maxZoom:l,zoomIn:d,zoomOut:f,disabled:h}=bt(),{render:m}=K(),x=h||(t?a>=l:a<=1);return o.useEffect(()=>{x&&i.current&&s.current&&n(),x||(i.current=!0)},[x,n]),o.createElement(Re,{ref:r,disabled:x,label:t?"Zoom in":"Zoom out",icon:t?Ir:Mr,renderIcon:t?m.iconZoomIn:m.iconZoomOut,onClick:t?d:f,onFocus:()=>{s.current=!0},onBlur:()=>{s.current=!1}})});function Lr(){const e=o.useRef(null),t=o.useRef(null),{focus:n}=se(),r=o.useCallback(a=>{var l,d;!((l=a.current)===null||l===void 0)&&l.disabled?n():(d=a.current)===null||d===void 0||d.focus()},[n]),i=o.useCallback(()=>r(e),[r]),s=o.useCallback(()=>r(t),[r]);return o.createElement(o.Fragment,null,o.createElement(zt,{zoomIn:!0,ref:e,onLoseFocus:s}),o.createElement(zt,{ref:t,onLoseFocus:i}))}function Tr(){const{render:e}=K(),t=bt();return e.buttonZoom?o.createElement(o.Fragment,null,e.buttonZoom(t)):o.createElement(Lr,null)}function Or(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function jr({current:e,preload:t},{type:n,source:r}){switch(n){case"fetch":return e?{current:e,preload:r}:{current:r};case"done":return r===t?{current:r}:{current:e,preload:t};default:throw new Error(rn)}}function Dr(e){var t,n;const[{current:r,preload:i},s]=o.useReducer(jr,{}),{slide:a,rect:l,imageFit:d,render:f,interactive:h}=e,m=a.srcSet.sort((N,M)=>N.width-M.width),x=(t=a.width)!==null&&t!==void 0?t:m[m.length-1].width,p=(n=a.height)!==null&&n!==void 0?n:m[m.length-1].height,g=xt(a,d),v=Math.max(...m.map(N=>N.width)),O=Math.min((g?Math.max:Math.min)(l.width,x*(l.height/p)),v),P=_o(),T=k(()=>{var N;const M=(N=m.find(S=>S.width>=O*P))!==null&&N!==void 0?N:m[m.length-1];(!r||m.findIndex(S=>S.src===r)<m.findIndex(S=>S===M))&&s({type:"fetch",source:M.src})});oe(T,[l.width,l.height,P,T]);const j=k(N=>s({type:"done",source:N})),V={WebkitTransform:h?"initial":"translateZ(0)"};return g||Object.assign(V,l.width/l.height<x/p?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),o.createElement(o.Fragment,null,i&&i!==r&&o.createElement(Le,{key:"preload",...e,offset:void 0,slide:{...a,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...V},onLoad:()=>j(i),render:{...f,iconLoading:()=>null,iconError:()=>null}}),r&&o.createElement(Le,{key:"current",...e,slide:{...a,src:r,srcSet:void 0},style:V}))}function Rr({render:e,slide:t,offset:n,rect:r}){var i;const[s,a]=o.useState(),l=o.useRef(null),{zoom:d,maxZoom:f,offsetX:h,offsetY:m,setZoomWrapper:x}=bt(),p=d>1,{carousel:g,on:v}=K(),{currentIndex:O}=ie();oe(()=>n===0?(x({zoomWrapperRef:l,imageDimensions:s}),()=>x(void 0)):()=>{},[n,s,x]);let P=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:n,rect:r,zoom:d,maxZoom:f});if(!P&&pe(t)){const T={slide:t,offset:n,rect:r,render:e,imageFit:g.imageFit,imageProps:g.imageProps,onClick:n===0?()=>{var j;return(j=v.click)===null||j===void 0?void 0:j.call(v,{index:O})}:void 0};P=Or(t)?o.createElement(Dr,{...T,slide:t,interactive:p,rect:n===0?{width:r.width*d,height:r.height*d}:r}):o.createElement(Le,{onLoad:j=>a({width:j.naturalWidth,height:j.naturalHeight}),...T})}return P?o.createElement("div",{ref:l,className:ne(R(go),R(lt),R(qt),p&&R(vo)),style:n===0?{transform:`scale(${d}) translateX(${h}px) translateY(${m}px)`}:void 0},P):null}const kr=({augment:e,addModule:t})=>{e(({zoom:n,toolbar:r,render:i,controller:s,...a})=>{const l=Cn(n);return{zoom:l,toolbar:un(r,Tt,o.createElement(Tr,null)),render:{...i,slide:d=>{var f;return pe(d.slide)?o.createElement(Rr,{render:i,...d}):(f=i.slide)===null||f===void 0?void 0:f.call(i,d)}},controller:{...s,preventDefaultWheelY:l.scrollToZoom},...a}}),t(le(Tt,Sr))},Ar={download:void 0},Nn=e=>({...Ar,...e});function Wr(e,t){const n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=()=>{at(n.response,t)},n.onerror=()=>{console.error("Failed to download file")},n.send()}function Fr(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function nt(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}function at(e,t){const n=document.createElement("a");n.rel="noopener",n.download=t||"",n.download||(n.target="_blank"),typeof e=="string"?(n.href=e,n.origin!==window.location.origin?Fr(n.href)?Wr(e,t):(n.target="_blank",nt(n)):nt(n)):(n.href=URL.createObjectURL(e),setTimeout(()=>URL.revokeObjectURL(n.href),3e4),setTimeout(()=>nt(n),0))}const Vr=ue("DownloadIcon",o.createElement("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}));function Zr(){const{render:e,on:t,download:n}=K(),{download:r}=Nn(n),{currentSlide:i,currentIndex:s}=ie();if(e.buttonDownload)return o.createElement(o.Fragment,null,e.buttonDownload());const a=i&&(i.downloadUrl||typeof i.download=="string"&&i.download||typeof i.download=="object"&&i.download.url||pe(i)&&i.src)||void 0,l=r?(i==null?void 0:i.download)!==!1:!!a,d=()=>{if(i&&a){const h=i.downloadFilename||typeof i.download=="object"&&i.download.filename||void 0;at(a,h)}},f=()=>{var h;i&&((r||d)({slide:i,saveAs:at}),(h=t.download)===null||h===void 0||h.call(t,{index:s}))};return o.createElement(Re,{label:"Download",icon:Vr,renderIcon:e.iconDownload,disabled:!l,onClick:f})}function $r({augment:e}){e(({toolbar:t,download:n,...r})=>({toolbar:un(t,ho,o.createElement(Zr,null)),download:Nn(n),...r}))}function Ur(){var w,b;const[e,t]=o.useState(""),[n,r]=o.useState({page:1,limit:10}),{data:i}=Bn(),[s,a]=o.useState(!1),{data:l,isLoading:d,isError:f}=Un(n),h=Hn(),m=On(),[x,p]=o.useState(!1),[g,v]=o.useState(null),[O,P]=o.useState(!1),[T,j]=o.useState([]),[V,N]=o.useState(0),{data:M}=Xn(),{data:S}=zn(),y=o.useMemo(()=>{var C;if(!l||!l.data||!l.data.products)return l;let u=[...l.data.products];return(C=i==null?void 0:i.data)!=null&&C.promotions&&(u=Kn(u,i.data.promotions)),{...l,data:{...l.data,products:u}}},[l,i]);o.useEffect(()=>{const u=setTimeout(()=>{if(e.trim())r(C=>({...C,name:e,page:1}));else{const{name:C,...A}=n;r({...A,page:1})}},500);return()=>clearTimeout(u)},[e]);const L=(u,C)=>{if(C===""){const A={...n};delete A[u],r({...A,page:1})}else r({...n,[u]:C,page:1})},D=async u=>{try{await h.mutateAsync(u,{onSuccess:()=>{It.success("Đã xóa sản phẩm thành công"),m.invalidateQueries({queryKey:["products"]})}})}catch{It.error("Xóa sản phẩm thất bại")}},W=u=>{r({...n,page:u})},Y=u=>new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(u)),I=(u,C=0,A=0)=>{const U=u.variants.flatMap(F=>(F.images||[]).map(G=>({src:Ue(G.imageUrl),alt:u.name,download:Ue(G.imageUrl)})));let $=0,_=0;for(let F=0;F<u.variants.length;F++){const G=u.variants[F].images||[];if(F===C){$=_+A;break}_+=G.length}j(U),N($),P(!0)};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx(Gn,{children:c.jsxs(qn,{children:[c.jsx(He,{children:c.jsx(Mt,{href:"#",children:"Dashboard"})}),c.jsx(Lt,{}),c.jsx(He,{children:c.jsx(Mt,{href:"/admin/products",children:"Quản lý sản phẩm"})}),c.jsx(Lt,{}),c.jsx(He,{children:c.jsx(Qn,{children:"Sản phẩm"})})]})}),c.jsx("a",{href:"/admin/products/create",children:c.jsxs(te,{children:[c.jsx(ye.Icon,{path:jn,size:.7}),"Thêm sản phẩm mới"]})})]}),c.jsx(Zn,{className:"mb-4",children:c.jsxs($n,{className:"py-4",children:[c.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-0 md:flex-row md:justify-between md:items-center gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(ye.Icon,{path:Dn,size:.7,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-maintext"}),c.jsx(Rn,{type:"text",placeholder:"Tìm kiếm theo tên sản phẩm...",className:"pl-10 py-2 w-full border rounded-[6px]",value:e,onChange:u=>t(u.target.value)})]}),c.jsxs(te,{variant:"outline",className:"flex items-center",onClick:()=>a(!s),children:[c.jsx(ye.Icon,{path:kn,size:.7,className:"mr-2"}),s?"Ẩn bộ lọc":"Hiện bộ lọc"]})]}),c.jsx(An,{children:s&&c.jsx(Wn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"mt-4 pt-4 border-t",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-maintext mb-2 font-semibold",children:"Thương hiệu"}),c.jsxs(ze,{value:n.brand||"all",onValueChange:u=>L("brand",u==="all"?void 0:u),children:[c.jsx(Be,{children:c.jsx(Ke,{placeholder:"Tất cả thương hiệu",children:n.brand&&((w=((M==null?void 0:M.data)||[]).find(u=>{var C;return u.id.toString()===((C=n.brand)==null?void 0:C.toString())}))==null?void 0:w.name)||"Tất cả thương hiệu"})}),c.jsxs(Ye,{children:[c.jsx(de,{value:"all",children:"Tất cả thương hiệu"}),((M==null?void 0:M.data)||[]).map(u=>c.jsx(de,{value:u.id.toString(),children:u.name},u.id))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-maintext mb-2 font-semibold",children:"Danh mục"}),c.jsxs(ze,{value:n.category||"all",onValueChange:u=>L("category",u==="all"?void 0:u),children:[c.jsx(Be,{children:c.jsx(Ke,{placeholder:"Tất cả danh mục",children:n.category&&((b=((S==null?void 0:S.data)||[]).find(u=>{var C;return u.id.toString()===((C=n.category)==null?void 0:C.toString())}))==null?void 0:b.name)||"Tất cả danh mục"})}),c.jsxs(Ye,{children:[c.jsx(de,{value:"all",children:"Tất cả danh mục"}),((S==null?void 0:S.data)||[]).map(u=>c.jsx(de,{value:u.id.toString(),children:u.name},u.id))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-maintext mb-2 font-semibold",children:"Trạng thái"}),c.jsxs(ze,{value:n.status||"all",onValueChange:u=>L("status",u==="all"?void 0:u),children:[c.jsx(Be,{children:c.jsx(Ke,{placeholder:"Tất cả trạng thái",children:n.status==="HOAT_DONG"?"Hoạt động":n.status==="KHONG_HOAT_DONG"?"Không hoạt động":"Tất cả trạng thái"})}),c.jsxs(Ye,{children:[c.jsx(de,{value:"all",children:"Tất cả trạng thái"}),c.jsx(de,{value:"HOAT_DONG",children:"Hoạt động"}),c.jsx(de,{value:"KHONG_HOAT_DONG",children:"Không hoạt động"})]})]})]})]})})})]})}),d?c.jsx("div",{className:"bg-white rounded-[6px] shadow-sm p-4 space-y-4",children:[...Array(5)].map((u,C)=>c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx($e,{className:"h-12 w-12 rounded-[6px]"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx($e,{className:"h-4 w-[250px]"}),c.jsx($e,{className:"h-4 w-[200px]"})]})]},C))}):f?c.jsxs("div",{className:"bg-white rounded-[6px] shadow-sm p-4 text-center",children:[c.jsx("p",{className:"text-red-500",children:"Đã xảy ra lỗi khi tải dữ liệu. Vui lòng thử lại sau."}),c.jsx(te,{variant:"outline",className:"mt-4",onClick:()=>m.invalidateQueries({queryKey:["products"]}),children:"Thử lại"})]}):c.jsxs("div",{className:"bg-white rounded-[6px] shadow-sm overflow-visible",children:[c.jsx("div",{className:"overflow-x-auto",style:{width:"100%",display:"block",overflowX:"auto",whiteSpace:"nowrap",scrollbarWidth:"thin",scrollbarColor:"#94a3b8 #e2e8f0",WebkitOverflowScrolling:"touch"},children:c.jsxs(Jn,{children:[c.jsx(eo,{children:c.jsxs(Xe,{children:[c.jsx(ae,{className:"px-4 py-4 text-left text-sm font-medium text-maintext",children:"Hình ảnh"}),c.jsx(ae,{className:"px-4 py-4 text-left text-sm font-medium text-maintext",children:"Sản phẩm"}),c.jsx(ae,{className:"px-4 py-4 text-left text-sm font-medium text-maintext",children:"Thương hiệu"}),c.jsx(ae,{className:"px-4 py-4 text-left text-sm font-medium text-maintext",children:"Danh mục"}),c.jsx(ae,{className:"px-4 py-4 text-left text-sm font-medium text-maintext",children:"Giá"}),c.jsx(ae,{className:"px-4 py-4 text-left text-sm font-medium text-maintext",children:"Trạng thái"}),c.jsx(ae,{className:"px-4 py-4 text-left text-sm font-medium text-maintext",children:"Ngày cập nhật"}),c.jsx(ae,{className:"px-4 py-4 text-right text-sm font-medium text-maintext",children:"Thao tác"})]})}),c.jsx(to,{children:y!=null&&y.data.products.length?y.data.products.map(u=>{var C,A,U;return c.jsxs(Xe,{className:"hover:bg-gray-50",children:[c.jsx(re,{className:"px-4 py-4 whitespace-nowrap",children:c.jsx("div",{className:"relative h-12 w-12 rounded-[6px] overflow-hidden bg-gray-100 cursor-pointer group",onClick:()=>I(u,0,0),title:"Xem ảnh lớn",children:c.jsx("img",{src:Ue((U=(A=(C=u.variants[0])==null?void 0:C.images)==null?void 0:A[0])==null?void 0:U.imageUrl),alt:u.name,className:"object-cover group-hover:scale-105 transition-transform duration-200"})})}),c.jsxs(re,{className:"px-4 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-maintext",children:u.name}),c.jsxs("div",{className:"text-xs text-maintext",children:[u.variants.length," biến thể"]})]}),c.jsx(re,{className:"px-4 py-4 whitespace-nowrap text-sm text-maintext",children:typeof u.brand=="string"?u.brand:u.brand.name}),c.jsx(re,{className:"px-4 py-4 whitespace-nowrap text-sm text-maintext",children:typeof u.category=="string"?u.category:u.category.name}),c.jsx(re,{className:"px-4 py-4 whitespace-nowrap text-sm",children:(()=>{var F,G;const $=((F=u.variants[0])==null?void 0:F.price)||0,_=(G=i==null?void 0:i.data)!=null&&G.promotions?Yn(u.id,$,i.data.promotions):{originalPrice:$,discountedPrice:$,discountPercent:0};return c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:`font-medium ${_.discountPercent>0?"text-primary":"text-maintext"}`,children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_.discountedPrice)}),_.discountPercent>0&&c.jsx("div",{className:"text-xs text-maintext line-through",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_.originalPrice)}),_.discountPercent>0&&c.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["-",_.discountPercent,"% KM"]})]})})()}),c.jsx(re,{className:"px-4 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${u.status==="HOAT_DONG"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status==="HOAT_DONG"?"Hoạt động":"Không hoạt động"})}),c.jsx(re,{className:"px-4 py-4 whitespace-nowrap text-sm text-maintext",children:Y(u.updatedAt)}),c.jsx(re,{className:"px-4 py-4 whitespace-nowrap text-right",children:c.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[c.jsx("a",{href:`/admin/products/edit/${u.id}`,children:c.jsx(te,{variant:"outline",size:"icon",title:"Sửa",children:c.jsx(ye.Icon,{path:Fn,size:.7})})}),c.jsxs(no,{open:x&&g===u.id,onOpenChange:$=>{$||(p(!1),v(null))},children:[c.jsx(oo,{asChild:!0,children:c.jsx(te,{variant:"outline",size:"icon",onClick:()=>{v(u.id),p(!0)},title:"Xóa",children:c.jsx(ye.Icon,{path:Vn,size:.7})})}),c.jsxs(ro,{children:[c.jsx(io,{children:c.jsx(so,{children:"Xác nhận xóa sản phẩm"})}),c.jsx("p",{children:"Bạn có chắc chắn muốn xóa sản phẩm này không?"}),c.jsxs(ao,{children:[c.jsx(co,{asChild:!0,children:c.jsx(te,{variant:"outline",onClick:()=>{p(!1),v(null)},children:"Hủy"})}),c.jsx(te,{variant:"destructive",onClick:()=>{g&&(D(g),p(!1),v(null))},children:"Xóa"})]})]})]})]})})]},u.id)}):c.jsx(Xe,{children:c.jsx(re,{colSpan:8,className:"px-4 py-8 text-center text-maintext",children:"Không tìm thấy sản phẩm nào"})})})]})}),(y==null?void 0:y.data.pagination)&&y.data.pagination.totalPages>1&&c.jsxs("div",{className:"px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[c.jsx("div",{className:"hidden sm:block",children:c.jsxs("p",{className:"text-sm text-maintext",children:["Hiển thị ",c.jsx("span",{className:"font-medium",children:(y.data.pagination.currentPage-1)*y.data.pagination.limit+1})," đến ",c.jsx("span",{className:"font-medium",children:Math.min(y.data.pagination.currentPage*y.data.pagination.limit,y.data.pagination.totalItems)})," của ",c.jsx("span",{className:"font-medium",children:y.data.pagination.totalItems})," sản phẩm"]})}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(te,{variant:"outline",size:"sm",onClick:()=>W(y.data.pagination.currentPage-1),disabled:y.data.pagination.currentPage===1,children:"Trước"}),[...Array(y.data.pagination.totalPages)].map((u,C)=>c.jsx(te,{variant:y.data.pagination.currentPage===C+1?"default":"outline",size:"sm",onClick:()=>W(C+1),children:C+1},C)).slice(Math.max(0,y.data.pagination.currentPage-3),Math.min(y.data.pagination.totalPages,y.data.pagination.currentPage+2)),c.jsx(te,{variant:"outline",size:"sm",onClick:()=>W(y.data.pagination.currentPage+1),disabled:y.data.pagination.currentPage===y.data.pagination.totalPages,children:"Sau"})]})]})]}),O&&c.jsx(br,{open:O,close:()=>P(!1),slides:T,index:V,on:{view:({index:u})=>N(u)},plugins:[kr,$r],zoom:{maxZoomPixelRatio:3,zoomInMultiplier:2}})]})}const ri=()=>c.jsx(Ur,{});export{ri as default};
