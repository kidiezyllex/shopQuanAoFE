import{j as e}from"./ui-vendor-CFM_MCUz.js";import{u as a,r as s}from"./react-vendor-B55MjJUH.js";import{u as t,I as r,B as l,y as i}from"./index-BHeY-5EX.js";import{C as o,a as n,b as d,d as c,c as m}from"./card-ClEzRAeX.js";import{u}from"./authentication-DJyUXwd2.js";import{m as x}from"./heavy-vendor-BfN2pHnQ.js";import{aa as h,ab as b,ac as f}from"./icons-vendor-BrsZP2ku.js";import"./query-vendor-CBwfxcof.js";function p({onSuccess:o}){const n=u(),{loginUser:d}=t(),[c,m]=s.useState(!1),[x,p]=s.useState({email:"",password:""}),g=a(),j=e=>{const{name:a,value:s}=e.target;p((e=>({...e,[a]:s})))};return e.jsxs("form",{onSubmit:async e=>{var a,s,t,r,l,c;e.preventDefault();try{const e=await n.mutateAsync(x);e&&e.success&&(null==(a=e.data)?void 0:a.token)&&(null==(s=e.data)?void 0:s.account)&&(d(null==(t=e.data)?void 0:t.account,null==(r=e.data)?void 0:r.token),i.success("Đăng nhập thành công"),"ADMIN"===(null==(c=null==(l=e.data)?void 0:l.account)?void 0:c.role)?g("/admin/statistics"):o())}catch(m){i.error("Đăng nhập thất bại")}},className:"flex flex-col gap-4 h-full",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-maintext dark:text-gray-300 font-medium block mb-2",children:"Email"}),e.jsx(r,{type:"email",name:"email",placeholder:"Nhập email của bạn",value:x.email,onChange:j,className:"border-gray-300 dark:border-gray-700 focus-visible:ring-primary focus-visible:border-primary transition-all duration-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-maintext dark:text-gray-300 font-medium block mb-2",children:"Mật khẩu"}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{type:c?"text":"password",name:"password",placeholder:"Nhập mật khẩu",value:x.password,onChange:j,className:"border-gray-300 dark:border-gray-700 focus-visible:ring-primary focus-visible:border-primary transition-all duration-300 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>{m(!c)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-maintext hover:text-maintext focus:outline-none",children:c?e.jsx(h,{size:16}):e.jsx(b,{size:16})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("a",{href:"/auth/register",className:"text-sm text-primary hover:text-secondary transition-colors duration-300",children:"Đăng ký?"}),e.jsx("a",{href:"/auth/forget-password",className:"text-sm text-primary hover:text-secondary transition-colors duration-300",children:"Quên mật khẩu?"})]}),e.jsx("div",{className:"flex justify-center flex-1 h-full items-end mt-4",children:e.jsx(l,{type:"submit",className:"bg-primary hover:bg-secondary transition-all duration-300 text-base font-medium w-full py-4",disabled:n.isPending,children:n.isPending?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-5 h-5 mr-2 animate-spin"}),"Đang đăng nhập..."]}):"Đăng nhập"})})]})}const g=()=>{const s=a();return e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4 overflow-hidden bg-gradient-to-br from-green-50 via-green-100 to-green-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute h-20 w-20 rounded-full bg-primary/70 top-12 left-[10%]"}),e.jsx("div",{className:"absolute h-24 w-24 rounded-full bg-secondary/80 top-36 right-[15%]"}),e.jsx("div",{className:"absolute h-16 w-16 rounded-full bg-primary/40 bottom-10 left-[20%]"}),e.jsx("div",{className:"absolute h-32 w-32 rounded-full bg-secondary/70 -bottom-10 right-[25%]"}),e.jsx("div",{className:"absolute h-28 w-28 rounded-full bg-primary/70 -top-10 left-[40%]"}),e.jsx("div",{className:"absolute h-12 w-12 rounded-full bg-secondary/40 top-1/2 left-[5%]"}),e.jsx("div",{className:"absolute h-14 w-14 rounded-full bg-primary/80 bottom-1/3 right-[10%]"}),e.jsx("div",{className:"absolute h-10 w-10 rounded-full bg-secondary/70 top-1/4 right-[30%]"}),e.jsx("div",{className:"absolute h-36 w-36 rounded-full bg-gradient-to-r from-primary/20 to-secondary/20 -bottom-16 left-[30%] blur-sm"}),e.jsx("div",{className:"absolute h-40 w-40 rounded-full bg-gradient-to-r from-secondary/20 to-primary/20 -top-20 right-[20%] blur-sm"})]}),e.jsx("div",{className:"w-full flex justify-center items-center relative z-10",children:e.jsx(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"h-full w-[600px]",children:e.jsxs(o,{className:"flex flex-col w-full h-full shadow-lg bg-white/50 dark:bg-gray-800/40 backdrop-blur-md border border-white/20 dark:border-gray-700/30 backdrop-filter",children:[e.jsxs(n,{className:"pb-3",children:[e.jsx(d,{className:"text-2xl font-bold text-maintext dark:text-white",children:e.jsxs("span",{className:"relative",children:["Đăng nhập tài khoản",e.jsx("span",{className:"absolute -bottom-1 left-0 w-12 h-1 bg-gradient-to-r from-primary to-secondary rounded-full"})]})}),e.jsx(c,{className:"text-maintext dark:text-maintext pt-3",children:"Đăng nhập để tiếp tục mua sắm và theo dõi đơn hàng của bạn"})]}),e.jsx(m,{className:"flex-1 pt-6",children:e.jsx(p,{onSuccess:()=>{s("/")}})})]})})})]})};export{g as default};
